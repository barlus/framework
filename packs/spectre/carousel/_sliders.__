import {$,attr,div,list,neg,nest,percent,s,scale,stylesheet,sub} from "@barlus/restyle"

export default Theme;
export const enum Theme {
    disabled='disabled',
    slider='slider',
    tooltip='tooltip',
}

stylesheet('/Users/Sergey/Work/EXP/spectre/scss/_sliders.ts')('',{
    ...nest([`.${Theme.slider}`],{
        appearance:'none',
        background:'transparent',
        display:'block',
        width:percent(100),
        height:$.unit6,
        ...nest([`&:focus`],{
            ...$.controlShadow(),
            outline:'none',
        }),
        ...nest([`&.${Theme.tooltip}:not([data-tooltip])`],{
            ...nest([`&::after`],{
                content:attr('value'),
            }),
        }),
        ...nest([`&::-webkit-slider-thumb`],{
            WebkitAppearance:'none',
            background:$.primaryColor,
            border:0,
            borderRadius:percent(50),
            height:$.unit3,
            marginTop:div(neg(sub($.unit3,$.unitH)),2),
            transition:list('transform',s(.2),'ease'),
            width:$.unit3,
        }),
        ...nest([`&::-moz-range-thumb`],{
            background:$.primaryColor,
            border:0,
            borderRadius:percent(50),
            height:$.unit3,
            transition:list('transform',s(.2),'ease'),
            width:$.unit3,
        }),
        ...nest([`&::-ms-thumb`],{
            background:$.primaryColor,
            border:0,
            borderRadius:percent(50),
            height:$.unit3,
            transition:list('transform',s(.2),'ease'),
            width:$.unit3,
        }),
        ...nest([`&:active`],{
            ...nest([`&::-webkit-slider-thumb`],{
                transform:scale(1.25),
            }),
            ...nest([`&::-moz-range-thumb`],{
                transform:scale(1.25),
            }),
            ...nest([`&::-ms-thumb`],{
                transform:scale(1.25),
            }),
        }),
        ...nest([`&:disabled`,`&.${Theme.disabled}`],{
            ...nest([`&::-webkit-slider-thumb`],{
                background:$.grayColorLight,
                transform:scale(1),
            }),
            ...nest([`&::-moz-range-thumb`],{
                background:$.grayColorLight,
                transform:scale(1),
            }),
            ...nest([`&::-ms-thumb`],{
                background:$.grayColorLight,
                transform:scale(1),
            }),
        }),
        ...nest([`&::-webkit-slider-runnable-track`],{
            background:$.bgColorDark,
            borderRadius:$.borderRadius,
            height:$.unitH,
            width:percent(100),
        }),
        ...nest([`&::-moz-range-track`],{
            background:$.bgColorDark,
            borderRadius:$.borderRadius,
            height:$.unitH,
            width:percent(100),
        }),
        ...nest([`&::-ms-track`],{
            background:$.bgColorDark,
            borderRadius:$.borderRadius,
            height:$.unitH,
            width:percent(100),
        }),
        ...nest([`&::-ms-fill-lower`],{
            background:$.primaryColor,
        }),
    }),
});
